---
import Layout from '@/layouts/Layout.astro'
import Tweet from '@/components/Tweet.astro'
---

<Layout title="Showcase" description="A showcase of number-roll">
	<header class="~mb-12/24 ~mt-4/6 container max-w-2xl text-center">
		<h1 class="~text-3xl/5xl font-semibold tracking-tight">What will you build?</h1>
		<div class="~text-base/lg ~mt-4/6 prose dark:prose-invert-zinc text-muted text-pretty">
			<p>
				I'd love to see how you're using NumberFlow. Tag
				<a href="https://x.com/mbarvian" target="_blank"> @mbarvian </a>
				in a post on X and I might include it here. Note: NumberFlow for Framer Motion is called MotionNumber.
			</p>
		</div>
	</header>
	<!-- <div class="lg:max-w-9xl container max-w-2xl gap-8 *:mb-8 lg:columns-2 2xl:columns-3"> -->
	<div class="~space-y-6/8 container max-w-2xl">
		<Tweet id="1825941664189526067" autoplay />
		<Tweet id="1837159796564447380" />
		<Tweet id="1828760806047051899" />
		<Tweet id="1827742960672489594" />
		<Tweet id="1828974087013609776" />
		<Tweet id="1837782472030822803" />
	</div>
</Layout>

<script>
	const videos = document.querySelectorAll<HTMLVideoElement>('video')

	const io = new IntersectionObserver(
		(entries) => {
			entries.forEach((e) => {
				if (!e.isIntersecting) return
				;(e.target as HTMLVideoElement).play()
			})
		},
		{
			threshold: 1
		}
	)
	videos.forEach((video) => {
		video.addEventListener('play', () => {
			videos.forEach((v) => {
				if (v !== video) v.pause()
			})
		})
		video.addEventListener('click', () => {
			if (video.paused) video.play()
			else video.pause()
		})
		io.observe(video)
	})
</script>
