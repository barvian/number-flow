---
layout: './_Home.astro'
title: NumberFlow - Transition and format numbers
description: A React component to transition & format numbers. Dependency-free. Built on web standards. Accessible. Customizable.
---
import Pre from '@/components/Pre.astro';
import NumberFlow from '@number-flow/react'
export const components = {pre: Pre}
import TimingsDemo from './_demos/Timings'
import IsolateDemo from './_demos/Isolate'
import TrendDemo from './_demos/Trend'
import Union from '@/components/Union.astro'
export { getStaticPaths } from '@/lib/framework'

## Basic usage

<div className='xl:pre-first-line:hidden first:*:mt-0'>
```jsx
// Basic usage
import NumberFlow from '@number-flow/react'

<NumberFlow
	value={value}
	format={{ notation: 'compact' }} // Intl.NumberFormat options
	locales="en-US" // Intl.NumberFormat locales
/>
```
</div>

See [MDN's `Intl.NumberFormat` reference](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#parameters) for a full list of `locales` and `format` options.

## Transitions

<h3 className="sr-only">Timings</h3>

NumberFlow accepts props to customize the transition timings. Each take an [`EffectTiming`](https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getTiming#return_value) object:

<TimingsDemo client:visible defaultValue='code'>
```jsx
<NumberFlow
	// Used for layout-related transforms:
	transformTiming={{ duration: 700, easing: 'linear(...)' }}
	// Used for the digit spin animations.
	// Will fall back to `transformTiming` if unset:
	rotateTiming={{ duration: 700, easing: 'linear(...)' }}
	// Used for fading in/out characters:
	opacityTiming={{ duration: 350, easing: 'ease-out' }}
/>
```
</TimingsDemo>


For spring-based `linear()` easings, I'd recommend [Kevin Grajeda's generator](https://www.kvin.me/css-springs)
or [easing.dev](https://www.easing.dev/).

### `trend: `<Union class="text-muted" types={["boolean", "'increasing'", "'decreasing'"]} />

Controls the direction of the digits.

- `true` (default): The digits go up if the number increases, and down if the number decreases.
- `false:` Ignores the trend of the number; each digit goes up if it increases and down if it decreases. This can be useful if you
want to animate number changes without conveying an overall increase or decrease ([example](https://x.com/pontusab/status/1825941664189526067)).
- `"increasing":` The digits always go up.
- `"decreasing":` The digits always go down.

<TrendDemo client:visible />

### `isolate: `<code className="text-muted">boolean</code>

If `isolate` is set, `<NumberFlow>`'s transitions are isolated from any other layout changes
that may occur in the same update. This can prevent potentially unwanted animations:

<IsolateDemo client:visible />

### `animated: `<code className="text-muted">boolean</code>

Can be set to `false` to disable all animations and finish any current ones.
See the [input example](/examples/#input) for a usage scenario.

### `willChange: `<code className="text-muted">boolean</code>

If set, NumberFlow applies [`will-change` properties](https://developer.mozilla.org/en-US/docs/Web/CSS/will-change) to relevant elements.
This can be useful if:
* Your number is guaranteed to change frequently
* You experience text misalignment when a transition completes

Note that "excessive use of `will-change` will result in excessive memory use" (source: MDN).

## Styling

There's some CSS properties you can use to style the component:

### `--number-flow-mask-[height|width]`

These adjust the height and width of the gradient fade-out masks at the edges of the number.
`--number-flow-mask-height` also gets used as the vertical padding for the number.

### `--number-flow-char-height`

Sets the line height of each character (default: `1em`). This can be used to adjust the vertical 
spacing between numbers.

## Hooks

### `useLinear(linearBased, fallback)`

An SSR-safe way to use a `linear()`-based value if the browser supports it, and a fallback value
otherwise:

```ts
// Use first timing if linear is supported, otherwise cubic-bezier one:
const timing = useLinear<EffectTiming>(
	{ easing: `linear(...)`, duration: 900 },
	{ easing: `cubic-bezier(...)`, duration: 750 }
)
```

## Limitations

* [Scientific](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#scientific) and [engineering](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#engineering) notations aren't supported
* Selected text inside the number will not respect color changes from `::selection`, if any
* Some locales that use non-English characters (i.e. `fa-IR`, `ar-OM`) [aren't supported yet](https://github.com/barvian/number-flow/issues/8), but will be soon
* Backgrounds and borders on `<NumberFlow>` won't scale smoothly during transitions. I'd recommend using
Framer Motion for these, as it's more flexible and composable
than any built-in solution could be. See the Framer Motion layout animations [example](/examples#framer-motion).