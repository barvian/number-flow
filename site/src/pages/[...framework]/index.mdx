---
layout: './_Home.astro'
title: NumberFlow - An animated number formatter for React
description: Transition formatted numbers. Built on Intl.NumberFormat and WAAPI. Dependency-free. Accessible and customizable.
---
import Pre from '@/components/Pre.astro';
export const components = {pre: Pre}
import Demo from '@/components/Demo'
export { getStaticPaths } from '@/lib/framework'

## Basic usage

<div className='xl:pre-first-line:hidden first:*:mt-0'>
```jsx
// Basic usage
import NumberFlow from '@number-flow/react'

<NumberFlow
    value={value}
    format={{ notation: 'compact' }} // Intl.NumberFormat options
    locales="en-US" // Intl.NumberFormat locales
/>
```
</div>

See [MDN's `Intl.NumberFormat` reference](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#parameters) for a full list of `locales` and `format` options.

## Transitions

<h3 className="sr-only">Timings</h3>

NumberFlow accepts props to customize the transition timings. Each take an [`EffectTiming`](https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getTiming#return_value) object:

```jsx
<NumberFlow
    // Used for x-related transforms:
    xTiming={{ duration: 700, easing: 'linear(...)' }}
    // Used for the digit stack animations:
    yTiming={{ duration: 700, easing: 'ease-out' }}
    // Used for fading in/out characters:
    fadeTiming={{ duration: 350, easing: 'ease' }}
/>
```


For spring-based `linear()` easings, I'd recommend [Kevin Grajeda's generator](https://www.kvin.me/css-springs)
or [easing.dev](https://www.easing.dev/).

### `root`: <code className="text-muted">boolean</code>

This prop can be used to make the transitions relative to the `<NumberFlow>` itself, rather than the
viewport (default). This can prevent unwanted animations when the `<NumberFlow>`
 moves around the page.

```tsx
<NumberFlow root />
```

## Styling

There's some CSS properties you can use to style the component:

### `--number-flow-mask-[height|width]`

These adjust the height and width of the gradient fade-out masks at the edges of the number.
`--number-flow-mask-height` also gets used as the vertical padding for the number.

### `--number-flow-char-height`

Sets the overall height of each character (default: `1em`). In my opinion, the transitions look better when this is set to
the smallest number that fits all your component's characters, i.e.

```jsx
<NumberFlow className="[--number-flow-char-height:0.85em]" />
```

The exact value will depend on your font and formatting options.

## Hooks

### `useLinear(linear, fallback)`

An SSR-safe way to use a `linear()`-based easing if the browser supports it, and a fallback
easing otherwise. Accepts a string for the easings i.e.

```ts
// Use linear() if supported, otherwise cubic-bezier:
const easing = useLinear(`linear(...)`, 'cubic-bezier(...)')
```

or full `EffectTiming` objects, i.e.

```ts
// Use first timing if linear is supported, otherwise cubic-bezier one:
const timing = useLinear(
    { easing: `linear(...)`, duration: 900 },
    { easing: `cubic-bezier(...)`, duration: 750 }
)
```

See the [custom timings example](/examples/#custom-timings) for a full demo.

## Limitations

* [Scientific](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#scientific) and [engineering](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#engineering) notations aren't supported
* Selected text inside the number will not respect color changes from `::selection`, if any
* Some locales that use non-English characters (i.e. `fa-IR`, `ar-OM`) [aren't supported yet](https://github.com/barvian/number-flow/issues/8), but will be soon

## Credits

Built by [Max Barvian](https://x.com/mbarvian). Heavily inspired by the [Family](https://family.co) iOS app.
[Technique for the `mask-image`](https://expensive.toys/blog/blur-vignette) from [Artur Bie≈Ñ](https://x.com/artur_bien).
